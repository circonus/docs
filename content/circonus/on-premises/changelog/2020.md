---
title: 2020
weight: 10
---

# Release Notes 2020

## Operator Note

Circonus has transitioned check tags (those that are associated with an entire
check, rather than stream tags, which are associated with a single metric) from
being stored in the PostgreSQL database to being stored in IRONdb.

Operators are advised to run the following script from the system that serves
the "hub" role in your deployment:

```
/www/bin/checks/migrate_tags_to_snowth.pl
```

This will sync all existing check tags from PostgreSQL to IRONdb.
Depending on the number of checks and tags, this may take a while to run, so
using a terminal multiplexer such as tmux or screen is recommended.  It should
only be necessary to run this script once after updating to the 2019-05-06
release or later, but it will not hurt anything to run it more than once.

**As of the 2019-07-01 release, GoAPI no longer uses the PostgreSQL database
for metric searches, so it is necessary to run this script before updating to
the current release, if you have not already.**

## 2020-04-06

[EL7 pinned
repo](/circonus/on-premises/installation/installation/#el7-repo):
`baseurl=http://updates.circonus.net/centos/7/release-20200406/x86_64/`

### caql_broker

Version: 0.1.1585256488 (a56f6fd)

* Rework statement initialization, to avoid double-registrations of checks at
  startup.
* Emit metadata for CAQL `find()` results, and consistent ordering for `find()`
  results.
* Allow dynamic numbers of check outputs.

### data_storage

Related roles: caql_broker, fault_detection, stratcon

Version: 0.1.1585928544 (ef8b888)

**Function Removal Notice**

> Metric Search v2 and Metric Clusters have been deprecated for some time.  We
> plan to remove these deprecated functions soon for the SaaS site, and in the
> subsequent Inside release. This will affect CAQL checks as well as CAQL
> Datapoints on graphs. The UI will now show users a warning when one of the
> deprecated functions is used. Circonus offers a more powerful tag-search
> feature, exposed as `find()` in CAQL.

* Fix null-pointer exception crash on absent metric locator during `/find`.
* Improved performance of metric search indices, reducing initial start time
  and speeding tag searches where the category has wildcards, e.g.,
  `and(version-*:v1.*)`.
* Implement a variety of text-based `/fetch` transforms for counts and rates.

### fault_detection

Version (faultd): 0.1.1584040940 (88ae70a)

* No changes since [2020-03-23](/circonus/on-premises/changelog/2020#2020-03-23)

Version (ernie): 0.1.1544639627 (db11a23)

**Composite Checks Removal Notice**

Since the [2019-05-06
release](/circonus/on-premises/changelog/2019#2019-05-06), the `circonus-ernie`
service has remained, serving its secondary role as a broker for [Composite
checks](/circonus/checks/check-types/composite/). This functionality has been
replaced and extended by [CAQL
checks](/circonus/checks/check-types/caql-check/). The Composite check type,
and the supporting service, will be removed in a future release. Operators and
users of composite checks should immediately begin converting to CAQL checks.
Please contact Circonus Support (support@circonus.com) with any questions.

* No changes since [2018-12-31](/circonus/on-premises/changelog/2018#2018-12-31)

### FQ

Related roles: caql_broker, fault_detection, mq, stratcon, web_stream

Version: 0.13.0

* No changes since [2020-02-10](/circonus/on-premises/changelog/2020#2020-02-10)

### GoAPI

Related roles: api, web_frontend

Version: 0.7.2

* add: A new metric search endpoint has been added to accept metric seaches via
  POST requests. All search parameters in the query string of a GET metric
  search request can be included in a JSON object in the body of the POST
  request.
* upd: The metric service is converted from an independent gRPC service into an
  internal package.
* fix: Cleans up the error message returned when POST or PUT requests to the
  `/acknowlegement` endpoint contain JSON errors, or data that does not validate.
* upd: The acknowledgement service is converted from an independent gRPC
  service into an internal package.
* upd: The broker service is converted from an independent gRPC service into an
  internal package.
* fix: Improves validation of account country code values and fixes an issue
  causing a status code 500 error to be returned if an invalid country code is
  set using the `/account` endpoint.
* fix: Metric search requests which find no results no longer return a 404
  error and instead return an empty result set `[]`.
* fix: Unauthorized PUT requests to the `/account` endpoint no longer return
  the wrong HTTP status code.
* upd: The account service is converted from an independent gRPC service into
  an internal package.
* fix: Additional validation takes place on contact group adds/updates for
  pagerduty, opsgenie, victorops, and slack contact groups. These tests prevent
  certain errors from occurring in Bert or other messaging services.
* upd: The echo service is converted from an independent gRPC service into an
  internal package.
* fix: Empty results are no longer be returned by `/data/fetch` requests when
  the request is for the highcharts data format and includes a reduce
  operation.
* upd: Converts the authentication service from a separate gRPC service into an
  internal package.
* fix: Empty tags values will no longer be returned as null in some objects.
  All objects will now consistently return an empty array `[]` when there is no
  data for the tags field.
* fix: Search query parameters for all endpoints will no longer return an error
  if a numeric query parameter is provided but is an empty value.

### Hooper

Version: 0.1.1585921630 (fd2eb51) (EL7, OmniOS)

Version: 0.1.1585315278 (c63b6a8) (EL6)

* (EL7/OmniOS only) `snowth.conf` changes:
  * Add a rollup-suppresion tag search filter to the raw database. Any metrics
    having a stream tag of `__rollup:false` will not be rolled up, and will
    disappear from the raw database as time shards are deleted.
  * Turn on `accept_thread` and `fanout` for the 8112 listener. The former
    dedicates a thread to handling new connections, and the latter fans out
    events from accepted connections across threads in the default eventer
    pool. These improve performance.
  * Add a log of RocksDB activity, level "warn" and higher. This will capture
    statistics on compaction, among others. It rotates on file size and will
    not occupy more than 100 MB of total disk space.
  * Explicitly note the surrogate database attribues `cache_init_size` and
    `activity_tracking`, using the in-code default values.
* Remove extraneous blank lines from `stratcon.conf` template. When the
  application updates its config, these lines are not present, so avoid
  putting them back when Hooper runs.

### libmtev

Related roles: broker, caql_broker, data_storage, fault_detection, stratcon, web_stream

Version: 1.10.2

* Fix thread-safey issue using XPath within `mtev_conf`.
* Fix `mtev.uname` on Solaris/illumos.
* Fix missed http/1 request count increment.
* Include `-lssl` in `mtev_lua/mtev.so`.

### notification

Version: 0.1.1570571834 (00b2aa2)

* No changes since [2019-10-21](/circonus/on-premises/changelog/2019#2019-10-21)

### Reconnoiter

Related roles: broker, caql_broker, data_storage, fault_detection, stratcon, web_stream

Version: 0.1.1585237221 (84fbfd8)

* Fix xpath for global check parameter overrides.
* Accommodate double firing of dns check timeout events (crash fix).
* Change config lock type from write to read for cluster filter changes.
* (CAQL Broker) Expose check tags to Lua.
* Delay check/filterset replication until initialization is complete (crash
  fix).
* Delay setting of global cluster identity until check configuration read is
  complete.

### Web UI/API

Version: 0.1.1585872178 (8f1cba3)

* New Feature: API provision_broker support for assert_status and cluster_name.

### web_stream

Version: 0.1.1566849557 (a3e7e11)

* No changes since [2019-09-09](/circonus/on-premises/changelog/2019#2019-09-09)


## 2020-03-23

[EL7 pinned
repo](/circonus/on-premises/installation/installation/#el7-repo):
`baseurl=http://updates.circonus.net/centos/7/release-20200323/x86_64/`

### caql_broker

Version: 0.1.1584715301 (92fcf48)

* No user-facing changes.

### data_storage

Related roles: caql_broker, fault_detection, stratcon

Version: 0.1.1584542652 (8dbe49b)

**Function Removal Notice**

> Metric Search v2 and Metric Clusters have been deprecated for some time.  We
> plan to remove these deprecated functions soon for the SaaS site, and in the
> subsequent Inside release. This will affect CAQL checks as well as CAQL
> Datapoints on graphs. The UI will now show users a warning when one of the
> deprecated functions is used. Circonus offers a more powerful tag-search
> feature, exposed as `find()` in CAQL.

* CAQL: Remove 1y limitation on maximum request span. This limit was added to
  prevent heavy CAQL queries from overloading the system. There are now
  limits on the total number of samples fetched, and timeouts on key
  operations.
* CAQL: Improve performance of all binary operators, by defaulting to
  approximate processing.
* [raw ingestor] Add a `force_jlog` field that will force brokers go through
  jlog, if configured to.

### fault_detection

Version (faultd): 0.1.1584040940 (88ae70a)

* No user-facing changes.

Version (ernie): 0.1.1544639627 (db11a23)

**Composite Checks Removal Notice**

Since the [2019-05-06
release](/circonus/on-premises/changelog/2019#2019-05-06), the `circonus-ernie`
service has remained, serving its secondary role as a broker for [Composite
checks](/circonus/checks/check-types/composite/). This functionality has been
replaced and extended by [CAQL
checks](/circonus/checks/check-types/caql-check/). The Composite check type,
and the supporting service, will be removed in a future release. Operators and
users of composite checks should immediately begin converting to CAQL checks.
Please contact Circonus Support (support@circonus.com) with any questions.

* No changes since [2018-12-31](/circonus/on-premises/changelog/2018#2018-12-31)

### FQ

Related roles: caql_broker, fault_detection, mq, stratcon, web_stream

Version: 0.13.0

* No changes since [2020-02-10](/circonus/on-premises/changelog/2020#2020-02-10)

### GoAPI

Related roles: api, web_frontend

Version: 0.6.12

* fix: Issue causing some cache misses not to be recorded correctly.
* fix: Error causing contact group and metric cluster delete requests to always
  return not found errors has been fixed.
* fix: All endpoints that accept JSON data in the request body will now return
  more descriptive errors with the correct HTTP code if the JSON is invalid.
* fix: Improved validation when saving contact group data via the API. The API
  will now check and return errors if contact group type and contact methods
  are mismatched.
* fix: Parsing error that occured during metric by ID lookup with metric name
  containing certain special characters has been corrected.
* fix: Results from the `/acknowledgement` endpoint will always include the
  `notes` and other fields even when they contain no data. Now, they will be
  included with a value of `null`.
* fix: Results from the `/alert` endpoint will always contain the `_cleared_on`
  and `_acknowledgement` fields. Even if they are empty, they will now still be
  included in the results with a value of `null`.
* upd: Changes the auth service process used for token based authentication to
  not use caching by default. Auth token caching can be re-activated with an
  environment variable setting.
* fix: multiple instances where 500 errors were being returned have been fixed
  to return the correct 4XX errors and messaging.
* fix: when using token auth, if either the token or app name header is
  missing, the error code returned will be 401, previously it was incorrectly
  returning code 403 if only one of the headers was missing.
* fix: all endpoints that were returning 404 errors when performing a search
  operation that finds no results will now return `[]` instead of the error.
* fix: bug causing some tag searches for acknowledgement values to fail with a
  non-descriptive 500 error.
* fix: issue resulting in pending auth token application statuses being cached
  and not being correctly updated when the associated application is approved.
* fix: issue causing account/current not to report errors correctly when
  retrieving some types of account data.
* add: new `share_id` parameter supported by the `/data/fetch` and `/caql`
  endpoints. This allows these API endpoints to be used to fetch data for
  shared dashboards, graphs, and worksheets.
* add: new "victorops" contact method supported in the "contact_info" values
  returned by calls to the /user API endpoint. It contains the same VictorOps
  ID that is shown in the User Profile of the UI.

### Hooper

Version: 0.1.1584478659 (062dd79) (EL7, OmniOS)

Version: 0.1.1584537406 (b252290) (EL6)

* Facilitate CAQL debugging.
  * Populate the `Snowth::Override` configurations in `circonus.conf`,
    permitting a user to set a UI preference forcing all browser requests to a
    single IRONdb node.
  * Configure the Lua request log on all `data_storage` nodes. This log is
    written to `/snowth/logs/luarequestlog` and will capture details of CAQL
    requests.

### libmtev

Related roles: broker, caql_broker, data_storage, fault_detection, stratcon, web_stream

Version: 1.10.1

* Don't truncate SSL errors in logs.
* Add `mtev.get_ipv4` and `mtev.uname` lua functions.
* Add `mtev.reverse_details` lua function to monitor reverse connections.
* Deprecate `mtev_conf_{get,release}_section{,s}` and add `_read` and `_write`
  variants to allow concurrent configuration access.
* Fix crash when HTTP/2 fails to setup upon connection.
* Add cross-thread lua support for serialized waitfor/notify.
* Add jlog log configs: `segment_size` and `precommit`.

### notification

Version: 0.1.1570571834 (00b2aa2)

* No changes since [2019-10-21](/circonus/on-premises/changelog/2019#2019-10-21)

### Reconnoiter

Related roles: broker, caql_broker, data_storage, fault_detection, stratcon, web_stream

Version: 0.1.1584631919 (2fad75d)

* (Broker) Decouple XML culling from check deactivation. This should solve
  issues where removing large numbers of checks performs too much work with the
  master poller lock held.
* Adopt new `mtev_conf_*` section APIs.
* (Broker) Support tagged stats in the broker(selfcheck) module.
* (Broker) Make thread pool selection hierarchical and unify logic. We already
  had check-based thread selection; this expands that to allow for check-based,
  module-based, and module-name-based logic. The `ping_icmp`, `graphite`, and
  `prometheus` checks are updated to use this shared logic.
* Fix crash in socket listener when encoutering an incomplete buffer.
* (Stratcon) Add statistics related to broker jlog feed processing.
* (Broker) Add locking for safety in mtev_hash manipulation by socket
  listeners.
* (Broker) Fix crashes and multi-thread listener. The listener and handler
  shared the same describe function which was incorrect as their closure types
  are different. The opentsdb and graphite modules both registered
  (conflicting) names for the same callback -- wrap them so this isn't an
  issue. Lookup a pool by module name and balance new connections across the
  threads in that pool.

### Web UI/API

Version: 0.1.1584651786 (5992246)

* New Feature: Adds the `/docs` endpoint to GoAPI forwarding to allow public
  access to the GoAPI documentation. Accessible at `https://<api_url_host>/docs`,
  e.g., https://api.circonus.com/docs .
* Bugfix: fix bug preventing the addition of metrics to graphs with the default
  numeric type.
* New Feature: Dark Theme for the entire user interface. By default, it will
  follow your OS or browser preference, but you may set it explicitly under
  User Preferences.

### web_stream

Version: 0.1.1566849557 (a3e7e11)

* No changes since [2019-09-09](/circonus/on-premises/changelog/2019#2019-09-09)


## 2020-03-09

[EL7 pinned
repo](/circonus/on-premises/installation/installation/#el7-repo):
`baseurl=http://updates.circonus.net/centos/7/release-20200309/x86_64/`

### caql_broker

Version: 0.1.1583507886 (31f2298)

* Add debugging tools: fqaudit and caql-broker.sh library

### data_storage

Related roles: caql_broker, fault_detection, stratcon

Version: 0.1.1583366271 (4c6a0a8)

**Function Removal Notice**

> Metric Search v2 and Metric Clusters have been deprecated for some time.  We
> plan to remove these deprecated functions soon for the SaaS site, and in the
> subsequent Inside release. This will affect CAQL checks as well as CAQL
> Datapoints on graphs. The UI will now show users a warning when one of the
> deprecated functions is used. Circonus offers a more powerful tag-search
> feature, exposed as `find()` in CAQL.

* raw ingestor: Add jlog error count to stats so operators can see if a jlog
  has been corrupted.
* raw ingestor: Expose space usage statistics.
* CAQL: Improve `fill()` performance.
* CAQL: Improve `window:sum()` performance.
* Fix `/fetch` histogram transforms.

### fault_detection

Version (faultd): 0.1.1582567726 (070c631)

* No user-facing changes

Version (ernie): 0.1.1544639627 (db11a23)

* No changes since [2018-12-31](/circonus/on-premises/changelog/2018#2018-12-31)

### FQ

Related roles: caql_broker, fault_detection, mq, stratcon, web_stream

Version: 0.13.0

* No changes since [2020-02-10](/circonus/on-premises/changelog/2020#2020-02-10)

### GoAPI

Related roles: api, web_frontend

Version: 0.6.8

* No changes since [2020-02-24](/circonus/on-premises/changelog/2020#2020-02-24)

### Hooper

Version: 0.1.1583173745 (ba69445) (EL7, OmniOS)

Version: 0.1.1583173709 (c34b44d) (EL6)

* web_frontend: Update CSS/JS bundles in `circonus.conf`.

### libmtev

Related roles: broker, caql_broker, data_storage, fault_detection, stratcon, web_stream

Version: 1.9.12

* Expose counter stats for http[12] requests and responses.
* Support managed applications (service restarting of arbitrary sidecars)
* Make dropping privileges a noop instead of an error when the the process is
  already running as the requested user/group.

### notification

Version: 0.1.1570571834 (00b2aa2)

* No changes since [2019-10-21](/circonus/on-premises/changelog/2019#2019-10-21)

### Reconnoiter

Related roles: broker, caql_broker, data_storage, fault_detection, stratcon, web_stream

Version: 0.1.1583515571 (006e2fd)

* Packaging: the broker's `jezebel` service is removed, and the jezebel process
  is now directly spawned/managed by `noitd`. Going forward, operators need
  only be concerned with the `noitd` service.
* Extend metric/filterset buffer lengths.
* Broker: implement `graphite_pickle` module.
* Broker: fix startup speed for large configs.
  * Improve check-to-thread distribution.
  * Cache the common `mtev.conf_get_string` calls in modules.
* libnoit: add instrumentation to `noit_metric_director`.

### Web UI/API

Version: 0.1.1583528882 (697a19a)

* Bugfix: API would not allow `provision_broker` with account token.
* New Feature: Add UI support for the new Graphite (Pickle) module and unified
  all Graphite modules under a single display.
* New Feature: Histogram datapoints on graphs now have a "value type" field
  which allows them to be plotted as a rate instead of as a heatmap.
* New Feature: Enabled metric filtering by stream tag query for checks using
  allow/deny metric filters.
* Bugfix: Removing parent from rule_set via API with `"parent":null` was not
  working.

### web_stream

Version: 0.1.1566849557 (a3e7e11)

* No changes since [2019-09-09](/circonus/on-premises/changelog/2019#2019-09-09)


## 2020-02-24

[EL7 pinned
repo](/circonus/on-premises/installation/installation/#el7-repo):
`baseurl=http://updates.circonus.net/centos/7/release-20200224/x86_64/`

### caql_broker

Version: 0.1.1582119106 (b37f6c4)

* No user-facing changes.

### data_storage

Related roles: caql_broker, fault_detection, stratcon

Version: 0.1.1582269016 (3f76f8b)

**Function Removal Notice**

> Metric Search v2 and Metric Clusters have been deprecated for some time.  We
> plan to remove these deprecated functions soon for the SaaS site, and in the
> subsequent Inside release. This will affect CAQL checks as well as CAQL
> Datapoints on graphs. The UI will now show users a warning when one of the
> deprecated functions is used. Circonus offers a more powerful tag-search
> feature, exposed as `find()` in CAQL.

* CAQL: Add `coalesce()` function.
* (Stratcon) Fix potential crash that can occur when two or more nodes in an
  IRONdb cluster are down. Issue was caused by concurrent writes to a hash
  table.
* (Stratcon) Fix potential infinite recursion bug that could cause crashes if
  stratcond is unable to write to any node in the IRONdb cluster for an
  extended period of time.
* Implement rate transform on histograms in the `/fetch` endpoint.
* Make existing stddev and average transforms work for histograms in `/fetch`.
* Make existing mean transform work for numerics in `/fetch`.

### fault_detection

Version (faultd): 0.1.1581526619 (4c52760)

* Relocate faultd config files to `/opt/circonus/etc/fault/` directory.
* Expose `/config/` via REST

Version (ernie): 0.1.1544639627 (db11a23)

* No changes since [2018-12-31](/circonus/on-premises/changelog/2018#2018-12-31)

### FQ

Related roles: caql_broker, fault_detection, mq, stratcon, web_stream

Version: 0.13.0

* No changes since [2020-02-10](/circonus/on-premises/changelog/2020#2020-02-10)

### GoAPI

Related roles: api, web_frontend

Version: 0.6.8

* Note: GoAPI is now packaged and released according to its internal semantic
  version.
* Return CAQL `explain` metadata from IRONdb when requested.
* Fix: remove deprecated `metrics_time_to_live` db field from `/account`
  endpoint.
* Fix: remove references to `users.language` db field from `/user` endpoint

### Hooper

Version: 0.1.1582310744 (5ba1479) (EL7, OmniOS)

Version: 0.1.1582310744 (04c5fae) (EL6)

* Add `Fault::hosts` config token to `circonus.conf` for web and script usage.
* Configure jlog save directory for stratcon raw ingestor. Will not be used in
  most Inside deployments.
* Relocate `faultd` configuration files to a subdirectory of
  `/opt/circonus/etc` and load additional IRONdb client modules to enable
  tracking of check-level tags.

### libmtev

Related roles: broker, caql_broker, data_storage, fault_detection, stratcon, web_stream

Version: 1.9.11

* Pass the siginfo context into the stacktrace for self-diagnosis.
* Fix short HTTP/1 payload reads.

### notification

Version: 0.1.1570571834 (00b2aa2)

* No changes since [2019-10-21](/circonus/on-premises/changelog/2019#2019-10-21)

### Reconnoiter

Related roles: broker, caql_broker, data_storage, fault_detection, stratcon, web_stream

Version: 0.1.1581719449 (ee1a5d8)

* Allow metric-less filters.
* Fix tag search evaluation with empty tag values.

### Web UI/API

Version: 0.1.1582324336 (d6e68d6)

* Improvement: Added "Keyboard Shortcuts" link to user menu.
* Bugfix: Fixed the layout of advanced search builder modal inside of the
  utility modal, at certain window sizes.
* Bugfix: Fixed customizable dashboards so they respect the 1200px minimum
  width set on the page.
* Bugfix: When using the advanced query builder to populate a Metric Explorer
  search query, broker names containing commas now work properly.
* Bugfix: Creating a check_bundle would lose metric_filters when creating on
  more than one broker.
* Bugfix: Postgres replica check function gets incorrect ownership on initial
  Inside installs.
* Improvement: Added dashboard `state` widget.
* Bugfix: Minimum height set by dashboard API did not match UI.

### web_stream

Version: 0.1.1566849557 (a3e7e11)

* No changes since [2019-09-09](/circonus/on-premises/changelog/2019#2019-09-09)

## 2020-02-10

[EL7 pinned
repo](/circonus/on-premises/installation/installation/#el7-repo):
`baseurl=http://updates.circonus.net/centos/7/release-20200210/x86_64/`

### caql_broker

Version: 0.1.1580893408 (2274d22)

* No user-facing changes.

### data_storage

Related roles: caql_broker

Version: 0.1.1581090623 (947e2c9)

**Function Removal Notice**

> Metric Search v2 and Metric Clusters have been deprecated for some time.  We
> plan to remove these deprecated functions soon for the SaaS site, and in the
> subsequent Inside release. This will affect CAQL checks as well as CAQL
> Datapoints on graphs. The UI will now show users a warning when one of the
> deprecated functions is used. Circonus offers a more powerful tag-search
> feature, exposed as `find()` in CAQL.

* CAQL: Add `integrate:while(`) function
* CAQL: Add `forecasting:auto()` method
* CAQL: Add broadcasting support to `forecasting:slope()/:regression()`

### fault_detection

Version (faultd): 0.1.1580504794 (ad15a94)

* Surface an existing statistic, `collected`, from each broker that faultd has
  seen metrics from. This metric is sourced from the `metrics_collected`
  statistic exposed by the broker's "selfcheck" module. It represents the total
  metric observations recorded by that broker, prior to filtering.

Version (ernie): 0.1.1544639627 (db11a23)

* No changes since [2018-12-31](/circonus/on-premises/changelog/2018#2018-12-31)

### FQ

Related roles: caql_broker, fault_detection, mq, stratcon, web_stream

Version: 0.13.0

* Automatically load all available modules.
* FQ plugin modules are now in a subdirectory of `/opt/circonus/libexec`.

### GoAPI

Related roles: api, web_frontend

Version: 0.1.1579636255 (0b6b018)

* No changes since [2020-01-27](/circonus/on-premises/changelog/2020#2020-01-27)

### Hooper

Version: 0.1.1579804588 (178c6b6) (EL7, OmniOS)

Version: 0.1.1579804588 (0d6e5fe) (EL6)

* No changes since [2020-01-27](/circonus/on-premises/changelog/2020#2020-01-27)

### libmtev

Related roles: broker, caql_broker, data_storage, fault_detection, stratcon, web_stream

Version: 1.9.10

* No changes since [2020-01-27](/circonus/on-premises/changelog/2020#2020-01-27)

### notification

Version: 0.1.1570571834 (00b2aa2)

* No changes since [2019-10-21](/circonus/on-premises/changelog/2019#2019-10-21)

### Reconnoiter

Related roles: broker, caql_broker, data_storage, fault_detection, stratcon, web_stream

Version: 0.1.1580893408 (d1156f8)

* (Broker) Fix SNMP value type coercion.
* (Broker) Support 0.0.0.0 as a global target for statsd checks.
* Simplify MQ routing and make it hookable.

### Web UI/API

Version: 0.1.1581103420 (7b53748)

* Bugfix: rule_set_group API "unexpected error" with double-submission or
  duplicate key conflicts.
* Bugfix: PUT to rule_set_group API would always return an error.
* Bugfix: fix Postgres database scaffolding order to avoid an SQL error on
  initial Inside setup.
* Bugfix: graph datapoint.alpha property was inconsistently numeric or
  string-quoted in API output.

### web_stream

Version: 0.1.1566849557 (a3e7e11)

* No changes since [2019-09-09](/circonus/on-premises/changelog/2019#2019-09-09)

## 2020-01-27

[EL7 pinned
repo](/circonus/on-premises/installation/installation/#el7-repo):
`baseurl=http://updates.circonus.net/centos/7/release-20200127/x86_64/`

### caql_broker

Version: 0.1.1578942442 (1ff7ebb)

* No user-facing changes.

### data_storage

Related roles: caql_broker

Version: 0.1.1579718901 (3e406ed)

**Function Removal Notice**

> Metric Search v2 and Metric Clusters have been deprecated for some time.
> We plan to remove these deprecated functions on 2020-01-31 for the SaaS site,
> and in the subsequent Inside release on 2020-02-10. This will affect
> CAQL checks as well as CAQL Datapoints on graphs. The UI will now show users
> a warning when one of the deprecated functions is used. Circonus offers a
> more powerful tag-search feature, exposed as `find()` in CAQL.

* CAQL: Add `histogram:ratio_above()` / `:ratio_below()` functions.
* CAQL: Fix a bug where `fill()` would not fill in missing data.
* CAQL: Improve `window:merge` performance.
* CAQL: Fix a bug where optimization rules were falsely applied.
* CAQL: Fix a bug where long-running queries could trigger watchdog timeouts.
* CAQL: Fix an issue where failed proxy attempts could cause `find()` errors
  even when `N-W+1` nodes were successfully interrogated.

### fault_detection

Version (faultd): 0.1.1578944874 (3e3ea63)

* No user-facing changes.

Version (ernie): 0.1.1544639627 (db11a23)

* No changes since [2018-12-31](/circonus/on-premises/changelog/2018#2018-12-31)

### FQ

Related roles: caql_broker, fault_detection, mq, stratcon, web_stream

Version: 0.12.0

* No changes since [2019-08-12](/circonus/on-premises/changelog/2019#2019-08-12)

### GoAPI

Related roles: api, web_frontend

Version: 0.1.1579636255 (0b6b018)

* Fix: Results from IRONdb are not guaranteed to be in the order requested.
  Ensure that request labels match result labels before returning data to
  original requestor.
* Adds support for `activity` and `latest` query parameters for requests to
  metric search and metric lookup by ID. Also adds the corresponding new fields
  to the result data from `/metric` endpoint requests. The data returned in the
  new `activity` and `latest` fields uses the same JSON formats used by IRONdb.

### Hooper

Version: 0.1.1579804588 (178c6b6) (EL7, OmniOS)

Version: 0.1.1579804588 (0d6e5fe) (EL6)

* (API role) Template a previously hard-coded Apache config file that deals
  with HTTP request headers for direct browser-to-API requests. These requests
  are not yet extensively used.
* Add `DB::admin` user parameters to the `circonus.conf` file. This is
  currently used only by a script that gets run once during initial Inside
  deployment.

### libmtev

Related roles: broker, caql_broker, data_storage, fault_detection, stratcon, web_stream

Version: 1.9.10

* Move eventer SSL debug logging to `debug/eventer/ssl`.
* Fix use-after-free in http logging when HTTP/2 sessions are interrupted.
* Make the lua subsystem interrupt as it approaches a watchdog timeout.
* Fix compressed uploads in `rest_get_raw_upload`.
* `mtev_json_object` ref counting is now atomic.

### notification

Version: 0.1.1570571834 (00b2aa2)

* No changes since [2019-10-21](/circonus/on-premises/changelog/2019#2019-10-21)

### Reconnoiter

Related roles: broker, caql_broker, data_storage, fault_detection, stratcon, web_stream

Version: 0.1.1578942442 (df23193)

* (Broker) Fix short reads of compressed httptrap submissions.

### Web UI/API

Version: 0.1.1580074212 (c5ecd76)

* Bugfix: `display_name` property was lost in Cloudwatch check creation via
  API.
* Bugfix: Ruleset Groups in the API could not reference a pattern-based
  ruleset.

### web_stream

Version: 0.1.1566849557 (a3e7e11)

* No changes since [2019-09-09](/circonus/on-premises/changelog/2019#2019-09-09)

## 2020-01-13

[EL7 pinned
repo](/circonus/on-premises/installation/installation/#el7-repo):
`baseurl=http://updates.circonus.net/centos/7/release-20200113/x86_64/`

### caql_broker

Version: 0.1.1573917743 (1ff7ebb)

* No changes since [2019-12-16](/circonus/on-premises/changelog/2019#2019-12-16)

### data_storage

Related roles: caql_broker

Version: 0.1.1578416138 (6f32a35)

**Function Removal Notice**

> Metric Search v2 and Metric Clusters have been deprecated for some time.
> We plan to remove these deprecated functions on 2020-01-31 for the SaaS site,
> and in the subsequent Inside release on 2020-02-10. This will affect
> CAQL checks as well as CAQL Datapoints on graphs. The UI will now show users
> a warning when one of the deprecated functions is used. Circonus offers a
> more powerful tag-search feature, exposed as `find()` in CAQL.

* Support tag query filter for suppressing rollups from raw database.

### fault_detection

Version (faultd): 0.1.1578060087 (6829a12)

* Bug: text rule notifications lacked most recent value.
* Feature: expose triggering value in a rule stream's trigger history.

Version (ernie): 0.1.1544639627 (db11a23)

* No changes since [2018-12-31](/circonus/on-premises/changelog/2018#2018-12-31)

### FQ

Related roles: caql_broker, fault_detection, mq, stratcon, web_stream

Version: 0.12.0

* No changes since [2019-08-12](/circonus/on-premises/changelog/2019#2019-08-12)

### GoAPI

Related roles: api, web_frontend

Version: 0.1.1574368914 (d2bb13a)

* No changes since [2019-12-02](/circonus/on-premises/changelog/2019#2019-12-02)

### Hooper

Version: 0.1.1578599667 (71b7806) (EL7, OmniOS)

Version: 0.1.1578599667 (fd3a80f) (EL6)

* Always try to update PostgreSQL contrib module packages.
* Additional configuration checks for data_storage "ncopies" values.

### libmtev

Related roles: broker, caql_broker, data_storage, fault_detection, stratcon, web_stream

Version: 1.9.8

* No changes since [2019-12-16](/circonus/on-premises/changelog/2019#2019-12-16)

### notification

Version: 0.1.1570571834 (00b2aa2)

* No changes since [2019-10-21](/circonus/on-premises/changelog/2019#2019-10-21)

### Reconnoiter

Related roles: broker, caql_broker, data_storage, fault_detection, stratcon, web_stream

Version: 0.1.1573917743 (d2eacec)

* No changes since [2019-12-02](/circonus/on-premises/changelog/2019#2019-12-02)

### Web UI/API

Version: 0.1.1578699304 (7e9e7fb)

* Updated module and schema for PostgresSQL-RabbitMQ communication (`pg_amqp`).

### web_stream

Version: 0.1.1566849557 (a3e7e11)

* No changes since [2019-09-09](/circonus/on-premises/changelog/2019#2019-09-09)
